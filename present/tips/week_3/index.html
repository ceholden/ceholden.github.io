<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Tuesday, October 21st, 2014" />
  <title>Tip of the Week</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="../../../reveal.js/css/reveal.min.css"/>
    <style type="text/css">code{white-space: pre;}</style>
<!-- For syntax highlighting using highlight.js-->
    <link rel="stylesheet" href="../../../reveal.js/lib/css/zenburn.css">
    <link rel="stylesheet" href="../../../reveal.js/css/theme/simple.css" id="theme">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '../../../reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>
    <!--[if lt IE 9]>
    <script src="../../../reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">Tip of the Week</h1>
    <h2 class="author">Tuesday, October 21st, 2014</h2>
    <h3 class="date"></h3>
</section>

<section><section id="dotfiles" class="titleslide slide level1"><h1>Dotfiles</h1></section></section>
<section><section id="huh" class="titleslide slide level1"><h1>Huh?</h1></section><section id="dotfile" class="slide level2">
<h1>Dotfile</h1>
<ul>
<li class="fragment">Linux hides files beginning with a &quot;.&quot;
<ul>
<li class="fragment"><code>ls -l</code> vs <code>ls -la</code></li>
</ul></li>
<li class="fragment">Refers to configuration files in your home directory
<ul>
<li class="fragment">.bashrc</li>
<li class="fragment">.bash_aliases</li>
<li class="fragment">.vimrc</li>
</ul></li>
</ul>
</section><section id="bashrc-vs-.bash_profile" class="slide level2">
<h1>.bashrc vs .bash_profile</h1>
<ul>
<li class="fragment">~/.bashrc executed when using interactive shell that is <strong>not</strong> a <em>login shell</em></li>
<li class="fragment">~/.bash_profile executed only during <em>login shell</em></li>
<li class="fragment"><a href="http://hacktux.com/bash/bashrc/bash_profile">http://hacktux.com/bash/bashrc/bash_profile</a></li>
</ul>
</section><section id="bashrc" class="slide level2">
<h1>.bashrc</h1>
<ul>
<li class="fragment">Usually sources system default (<code>/etc/bashrc</code>)</li>
<li class="fragment">Used to setup:
<ul>
<li class="fragment">aliases</li>
<li class="fragment">environmental variables (e.g., PATH)</li>
<li class="fragment">system commands (e.g., <code>ls</code> --&gt; <code>ls -h --color=auto</code>)</li>
<li class="fragment">shell prompts</li>
<li class="fragment">functions</li>
</ul></li>
</ul>
</section><section id="not-a-dotfile" class="slide level2">
<h1>NOT a dotfile</h1>
<p>Did you know GEO/SCC file system keeps snapshots of your work?</p>
<pre class="bash"><code>ls -l .snapshots/</code></pre>
</section></section>
<section><section id="tips" class="titleslide slide level1"><h1>Tips</h1></section></section>
<section><section id="aliases" class="titleslide slide level1"><h1>Aliases</h1></section><section id="aliases-1" class="slide level2">
<h1>Aliases</h1>
<p>System Commands</p>
<ul>
<li class="fragment"><code>alias ls='ls -h --color=auto'</code></li>
<li class="fragment"><code>alias topu='top -u $(id -un)'</code></li>
<li class="fragment">check out default SCC/GEO alias for <code>rm</code></li>
</ul>
</section><section id="aliases-2" class="slide level2">
<h1>Aliases</h1>
<p>Sun Grid Engine</p>
<ul>
<li class="fragment"><code>alias qstatu='qstat -u $(id -un)'</code></li>
<li class="fragment"><code>alias qshv='qsh -V -l h_rt=24:00:00'</code></li>
</ul>
</section><section id="aliases-3" class="slide level2">
<h1>Aliases</h1>
<p>Movement</p>
<ul>
<li class="fragment"><code>alias chris='cd /projectnb/landsat/users/ceholden'</code></li>
<li class="fragment"><code>alias landsat='cd /projectnb/landsat'</code></li>
<li class="fragment"><code>alias cms='cd /projectnb/landsat/projects/CMS/'</code></li>
</ul>
</section></section>
<section><section id="modules" class="titleslide slide level1"><h1>Modules</h1></section><section id="modules-1" class="slide level2">
<h1>Modules</h1>
<p>Not necessarily recommended (why?), but...</p>
<pre class="bash"><code>host=$(hostname)
if [[ &quot;$host&quot; == &quot;geo&quot; || &quot;$host&quot; == &quot;scc1&quot; || &quot;$host&quot; == &quot;scc2&quot; ]]; then
    . /usr/local/Modules/default/init/bash
    source ~/.module
fi</code></pre>
</section><section id="modules-2" class="slide level2">
<h1>Modules</h1>
<p>And <code>~/.module</code>:</p>
<pre class="bash"><code>module load python/2.7.5
module load gdal/1.10.0
module load R_earth/3.1.0

module load CCDCTools/_beta</code></pre>
</section></section>
<section><section id="path" class="titleslide slide level1"><h1>PATH</h1></section><section id="path-1" class="slide level2">
<h1>PATH</h1>
<p>Call your own scripts or programs:</p>
<pre class="bash"><code>if [ -d &quot;$HOME/bin&quot; ]; then
    PATH=&quot;$PATH:$HOME/bin&quot;
fi</code></pre>
</section></section>
<section><section id="shell-prompts" class="titleslide slide level1"><h1>Shell Prompts</h1></section><section id="shell-prompts-1" class="slide level2">
<h1>Shell Prompts</h1>
<p>Current prompt:</p>
<pre class="bash"><code>ceholden@ceholden-lhome:~/Documents/ceholden.github.io/present/tips$ echo $PS1
\[\e]0;\u@\h: \w\a\]${debian_chroot:+($debian_chroot)}\u@\h:\w\$</code></pre>
</section><section id="shell-prompts-2" class="slide level2">
<h1>Shell Prompts</h1>
<pre class="bash"><code>export PS1=&quot;\[$(tput setaf 2)\]\u@\h:\W\\$ \[$(tput sgr0)\]&quot;</code></pre>
</section><section id="shell-prompts-3" class="slide level2">
<h1>Shell Prompts</h1>
<p>See <a href="http://bashrcgenerator.com/">http://bashrcgenerator.com/</a> or <a href="https://www.kirsle.net/wizards/ps1.html">https://www.kirsle.net/wizards/ps1.html</a> for generators.</p>
</section></section>
<section><section id="functions" class="titleslide slide level1"><h1>Functions</h1></section><section id="functions-1" class="slide level2">
<h1>Functions</h1>
<p>&quot;abusers&quot;</p>
<pre class="bash"><code>function abusers() {
    qstat | awk &#39;NR &gt; 2 { if ($5 == &quot;r&quot;) print $4 &quot; &quot; $9 }&#39; | sort | \
        awk &#39;{ sums[$1] += $2} END \
        { for (i in sums) printf(&quot;%s %s\n&quot;, i, sums[i])}&#39; | \
        sort -k2 -n -r
}
export -f abusers</code></pre>
</section><section id="functions-2" class="slide level2">
<h1>Functions</h1>
<p>Cluster job ID matching pattern...</p>
<pre class="bash"><code>function jidof() {

    pattern=$1

    jid=&quot;&quot;
    for j in $(qstat -u $USER | grep $pattern | awk &#39;{ print $1 }&#39;); do
        jid=&quot;$jid $j&quot;
    done
    echo &quot;$jid&quot;
}
export -f jidof</code></pre>
</section><section id="functions-3" class="slide level2">
<h1>Functions</h1>
<p>GDAL - from <a href="https://github.com/dwtkns/gdal-cheat-sheet">https://github.com/dwtkns/gdal-cheat-sheet</a></p>
<pre class="bash"><code>function gdal_extent() {
    if [ -z &quot;$1&quot; ]; then
        echo &quot;Missing arguments. Syntax:&quot;
        echo &quot;  gdal_extent &lt;input_raster&gt;&quot;
        return
    fi
    EXTENT=$(gdalinfo $1 |\
        grep &quot;Upper Left\|Lower Right&quot; |\
        sed &quot;s/Upper Left  //g;s/Lower Right //g;s/).*//g&quot; |\
        tr &quot;\n&quot; &quot; &quot; |\
        sed &#39;s/ *$//g&#39; |\
        tr -d &quot;[(]&quot; | tr &quot;,&quot; &quot; &quot;)
    echo -n &quot;$EXTENT&quot;
}
export -f gdal_extent</code></pre>
</section></section>
<section><section id="git" class="titleslide slide level1"><h1>Git</h1></section><section id="git-1" class="slide level2">
<h1>Git</h1>
<p>After doing so much work, why not back up your dotfiles?</p>
</section><section id="git-2" class="slide level2">
<h1>Git</h1>
<p>Very popular practice - <a href="http://dotfiles.github.io/">http://dotfiles.github.io/</a></p>
<ul>
<li class="fragment">Steal/borrow/get inspired by others</li>
<li class="fragment">Sync across computers</li>
<li class="fragment">Backup and track</li>
<li class="fragment">Share with others</li>
</ul>
</section><section id="git-3" class="slide level2">
<h1>Git</h1>
<p>In general,</p>
<ol type="1">
<li class="fragment">Create repository and clone to GEO</li>
<li class="fragment">Move all dotfiles into repo folder</li>
<li class="fragment">Symlink (<code>ln -s</code>) the files to previous locations</li>
<li class="fragment">Git add, commit, and push</li>
</ol>
</section><section id="git-4" class="slide level2">
<h1>Git</h1>
<p>&quot;Homeshick&quot; - makes symbolic linking of dotfiles easy!</p>
<p><a href="https://github.com/andsens/homeshick">https://github.com/andsens/homeshick</a></p>
</section></section>
<section><section id="dotfiles-1" class="titleslide slide level1"><h1>Dotfiles</h1></section><section id="mine" class="slide level2">
<h1>Mine</h1>
<p><a href="https://github.com/ceholden/dotfiles">https://github.com/ceholden/dotfiles</a></p>
</section><section id="yours" class="slide level2">
<h1>Yours?</h1>
<p>If you think of any neat dotfile tricks for GEO, please let me know.</p>
</section></section>
    </div>
  </div>


  <script src="../../../reveal.js/lib/js/head.min.js"></script>
  <script src="../../../reveal.js/js/reveal.min.js"></script>

  <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        slideNumber: true,
        theme: 'simple', // available themes are in /css/theme
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: '../../../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../../../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: '../../../reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: '../../../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
//          { src: '../../../reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; }, }
//          { src: '../../../reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
]});
    </script>
    </body>
</html>
